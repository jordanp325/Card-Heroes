<!DOCTYPE html>
<html>
<head>
	<title>
		Test
	</title>
</head>
<body>
	<script src="jquery-3.3.1.min.js"></script>
	<script>
		console.log(document.cookie);
		function login(element){
			var username = $('#username').val();
			var password = $('#password').val();
			var request = new XMLHttpRequest();
			request.open('POST', '/data?q=login');
			request.setRequestHeader('Content-Type', 'text/plain');
			request.setRequestHeader('username', username);
			request.onreadystatechange = function() {
				if(request.readyState == 4 && request.responseText == 'success'){ //request.responseText
					document.cookie = 'userID=' + request.getResponseHeader('userID') + ';';
					window.location.href = window.location.origin + '/lobby';
				}
				else if(request.readyState == 4) window.alert(request.responseText);
			};
			request.send(password);
		}
		function register(element){
			var username = $('#Rusername').val();
			var password = $('#Rpassword').val();
			var request = new XMLHttpRequest();
			request.open('POST', '/data?q=register');
			request.setRequestHeader('Content-Type', 'text/plain');
			request.setRequestHeader('username', username);
			request.onreadystatechange = function() {
				if(request.readyState == 4 && request.responseText == 'success'){ //request.responseText
					document.cookie = 'userID=' + request.getResponseHeader('userID') + ';';
					window.location.href = window.location.origin + '/lobby';
				}
				else if(request.readyState == 4) window.alert(request.responseText);
			};
			request.send(password);
		}
	</script>
	<style>
		body {padding: 0px; margin: 0px; width: 100vw; height: 100vh; background-color: hsl(210, 100%, 90%);}
		.login { float: left; margin-right: 50px; padding-top: 5px; border: 1px gray solid; background-color: white; border-radius: 3px; text-align: center; overflow: auto; width: 300px; display: block; }
		.login input{ box-sizing: border-box; display: block; height: 40px; font-size: 20px; border: 1px gray solid; border-radius: 3px; padding: 10px; width: calc(100% - 10px); margin: 5px;}
		.login button{ display: block; background-color: hsl(210, 100%, 70%); width: calc(100% - 10px); height: 40px; font-family: monospace; font-size: x-large; border: 0px solid; border-radius: 3px; margin: 5px; margin-top: 20px;}
		.text {font-size: x-large; font-family: monospace; display: block;}
		.largeText {font-size: xx-large; font-family: monospace; display: block;}
		.register { float: right; margin-left: 50px; padding-top: 5px; border: 1px gray solid; background-color: white; border-radius: 3px; text-align: center; overflow: auto; width: 300px; display: block; }
		.register input{ box-sizing: border-box; display: block; height: 40px; font-size: 20px; border: 1px gray solid; border-radius: 3px; padding: 10px; width: calc(100% - 10px); margin: 5px;}
		.register button{ display: block; background-color: hsl(210, 100%, 70%); width: calc(100% - 10px); height: 40px; font-family: monospace; font-size: x-large; border: 0px solid; border-radius: 3px; margin: 5px; margin-top: 20px;}
		.mainpanel {position: absolute; top: 50%; left: 50%; margin-right: -50%; transform: translate(-50%, -50%);}
	</style>
	<div class="mainpanel">
		<div class="login">
			<label type="text" id="LoginLabel" class="largeText">
				Log In
			</label>
			<div style="border: 0.5px gray solid; margin: 5px;"></div>
			<label type="text" id="UNLabel" class="text">
				Username
			</label>
			<input type="text" id="username">
			<label type="text" id="PWLabel" class="text">
				Password
			</label>
			<input type="password" id="password" autocomplete="current-password">
			<button onclick="login(this)">
				Log In
			</button>
		</div>
		<label style="font-family: monospace; font-size: xx-large; line-height: 255px;">
			Or
		</label>
		<div class="register">
			<label type="text" id="RegisterLabel" class="largeText">
				Register
			</label>
			<div style="border: 0.5px gray solid; margin: 5px;"></div>
			<label type="text" id="UNLabel" class="text">
				Username
			</label>
			<input type="text" id="Rusername">
			<label type="text" id="PWLabel" class="text">
				Password
			</label>
			<input type="password" id="Rpassword" autocomplete="new-password">
			<button onclick="register(this)">
				Create New Account
			</button>
		</div>
	</div>
</body>
</html>